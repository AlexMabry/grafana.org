define(["ModernizrProto","Modernizr","hasOwnProp","setClasses"],function(t,e,n,i){function r(t,o){if("object"==typeof t)for(var s in t)n(t,s)&&r(s,t[s]);else{t=t.toLowerCase();var a=t.split("."),l=e[a[0]];if(2==a.length&&(l=l[a[1]]),"undefined"!=typeof l)return e;o="function"==typeof o?o():o,1==a.length?e[a[0]]=o:(!e[a[0]]||e[a[0]]instanceof Boolean||(e[a[0]]=new Boolean(e[a[0]])),e[a[0]][a[1]]=o),i([(o&&0!=o?"":"no-")+a.join("-")]),e._trigger(t,o)}return e}return t._l={},t.on=function(t,n){this._l[t]||(this._l[t]=[]),this._l[t].push(n),e.hasOwnProperty(t)&&setTimeout(function(){e._trigger(t,e[t])},0)},t._trigger=function(t,e){if(this._l[t]){var n=this._l[t];setTimeout(function(){var t,i;for(t=0;t<n.length;t++)(i=n[t])(e)},0),delete this._l[t]}},e._q.push(function(){t.addTest=r}),r});