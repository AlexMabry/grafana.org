define(["ModernizrProto","Modernizr","hasOwnProp","setClasses"],function(n,t,e,r){function i(n,o){if("object"==typeof n)for(var u in n)e(n,u)&&i(u,n[u]);else{n=n.toLowerCase();var a=n.split("."),f=t[a[0]];if(2==a.length&&(f=f[a[1]]),"undefined"!=typeof f)return t;o="function"==typeof o?o():o,1==a.length?t[a[0]]=o:(!t[a[0]]||t[a[0]]instanceof Boolean||(t[a[0]]=new Boolean(t[a[0]])),t[a[0]][a[1]]=o),r([(o&&0!=o?"":"no-")+a.join("-")]),t._trigger(n,o)}return t}return n._l={},n.on=function(n,e){this._l[n]||(this._l[n]=[]),this._l[n].push(e),t.hasOwnProperty(n)&&setTimeout(function(){t._trigger(n,t[n])},0)},n._trigger=function(n,t){if(this._l[n]){var e=this._l[n];setTimeout(function(){var n,r;for(n=0;n<e.length;n++)(r=e[n])(t)},0),delete this._l[n]}},t._q.push(function(){n.addTest=i}),i});