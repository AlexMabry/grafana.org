define(["ModernizrProto","Modernizr","hasOwnProp","setClasses"],function(e,t,n,r){function o(e,i){if("object"==typeof e)for(var a in e)n(e,a)&&o(a,e[a]);else{e=e.toLowerCase();var s=e.split("."),c=t[s[0]];if(2==s.length&&(c=c[s[1]]),"undefined"!=typeof c)return t;i="function"==typeof i?i():i,1==s.length?t[s[0]]=i:(!t[s[0]]||t[s[0]]instanceof Boolean||(t[s[0]]=new Boolean(t[s[0]])),t[s[0]][s[1]]=i),r([(i&&0!=i?"":"no-")+s.join("-")]),t._trigger(e,i)}return t}return e._l={},e.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),t.hasOwnProperty(e)&&setTimeout(function(){t._trigger(e,t[e])},0)},e._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e,r;for(e=0;e<n.length;e++)(r=n[e])(t)},0),delete this._l[e]}},t._q.push(function(){e.addTest=o}),o});