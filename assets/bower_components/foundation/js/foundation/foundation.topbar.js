!function(e,t,n,o){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.4.7",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(t,n,o){Foundation.inherit(this,"add_custom_rule register_media throttle");var i=this;i.register_media("topbar","foundation-mq-topbar"),this.bindings(n,o),i.S("["+this.attr_name()+"]",this.scope).each(function(){var t=e(this),n=t.data(i.attr_name(!0)+"-init");i.S("section, .top-bar-section",this);t.data("index",0);var o=t.parent();o.hasClass("fixed")||i.is_sticky(t,o,n)?(i.settings.sticky_class=n.sticky_class,i.settings.sticky_topbar=t,t.data("height",o.outerHeight()),t.data("stickyoffset",o.offset().top)):t.data("height",t.outerHeight()),n.assembled||i.assemble(t),n.is_hover?i.S(".has-dropdown",t).addClass("not-click"):i.S(".has-dropdown",t).removeClass("not-click"),i.add_custom_rule(".f-topbar-fixed { padding-top: "+t.data("height")+"px }"),o.hasClass("fixed")&&i.S("body").addClass("f-topbar-fixed")})},is_sticky:function(e,t,n){var o=t.hasClass(n.sticky_class);return o&&"all"===n.sticky_on?!0:o&&this.small()&&"small"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:o&&this.medium()&&"medium"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:o&&this.large()&&"large"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(n){var o,i=this;o=n?i.S(n).closest("["+this.attr_name()+"]"):i.S("["+this.attr_name()+"]");var r=o.data(this.attr_name(!0)+"-init"),a=i.S("section, .top-bar-section",o);i.breakpoint()&&(i.rtl?(a.css({right:"0%"}),e(">.name",a).css({right:"100%"})):(a.css({left:"0%"}),e(">.name",a).css({left:"100%"})),i.S("li.moved",a).removeClass("moved"),o.data("index",0),o.toggleClass("expanded").css("height","")),r.scrolltop?o.hasClass("expanded")?o.parent().hasClass("fixed")&&(r.scrolltop?(o.parent().removeClass("fixed"),o.addClass("fixed"),i.S("body").removeClass("f-topbar-fixed"),t.scrollTo(0,0)):o.parent().removeClass("expanded")):o.hasClass("fixed")&&(o.parent().addClass("fixed"),o.removeClass("fixed"),i.S("body").addClass("f-topbar-fixed")):(i.is_sticky(o,o.parent(),r)&&o.parent().addClass("fixed"),o.parent().hasClass("fixed")&&(o.hasClass("expanded")?(o.addClass("fixed"),o.parent().addClass("expanded"),i.S("body").addClass("f-topbar-fixed")):(o.removeClass("fixed"),o.parent().removeClass("expanded"),i.update_sticky_positioning())))},timer:null,events:function(n){var o=this,i=this.S;i(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(e){e.preventDefault(),o.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(t){var n=e(this).closest("li");!o.breakpoint()||n.hasClass("back")||n.hasClass("has-dropdown")||o.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(t){var n=i(this),r=i(t.target),a=n.closest("["+o.attr_name()+"]"),s=a.data(o.attr_name(!0)+"-init");return r.data("revealId")?void o.toggle():void(o.breakpoint()||(!s.is_hover||Modernizr.touch)&&(t.stopImmediatePropagation(),n.hasClass("hover")?(n.removeClass("hover").find("li").removeClass("hover"),n.parents("li.hover").removeClass("hover")):(n.addClass("hover"),e(n).siblings().removeClass("hover"),"A"===r[0].nodeName&&r.parent().hasClass("has-dropdown")&&t.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(e){if(o.breakpoint()){e.preventDefault();var t=i(this),n=t.closest("["+o.attr_name()+"]"),r=n.find("section, .top-bar-section"),a=(t.next(".dropdown").outerHeight(),t.closest("li"));n.data("index",n.data("index")+1),a.addClass("moved"),o.rtl?(r.css({right:-(100*n.data("index"))+"%"}),r.find(">.name").css({right:100*n.data("index")+"%"})):(r.css({left:-(100*n.data("index"))+"%"}),r.find(">.name").css({left:100*n.data("index")+"%"})),n.css("height",t.siblings("ul").outerHeight(!0)+n.data("height"))}}),i(t).off(".topbar").on("resize.fndtn.topbar",o.throttle(function(){o.resize.call(o)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){i(this).trigger("resize.fndtn.topbar")}),i("body").off(".topbar").on("click.fndtn.topbar",function(e){var t=i(e.target).closest("li").closest("li.hover");t.length>0||i("["+o.attr_name()+"] li.hover").removeClass("hover")}),i(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(e){e.preventDefault();var t=i(this),n=t.closest("["+o.attr_name()+"]"),r=n.find("section, .top-bar-section"),a=(n.data(o.attr_name(!0)+"-init"),t.closest("li.moved")),s=a.parent();n.data("index",n.data("index")-1),o.rtl?(r.css({right:-(100*n.data("index"))+"%"}),r.find(">.name").css({right:100*n.data("index")+"%"})):(r.css({left:-(100*n.data("index"))+"%"}),r.find(">.name").css({left:100*n.data("index")+"%"})),0===n.data("index")?n.css("height",""):n.css("height",s.outerHeight(!0)+n.data("height")),setTimeout(function(){a.removeClass("moved")},300)}),i(this.scope).find(".dropdown a").focus(function(){e(this).parents(".has-dropdown").addClass("hover")}).blur(function(){e(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var t,o=e.S(this),i=o.data(e.attr_name(!0)+"-init"),r=o.parent("."+e.settings.sticky_class);if(!e.breakpoint()){var a=o.hasClass("expanded");o.css("height","").removeClass("expanded").find("li").removeClass("hover"),a&&e.toggle(o)}e.is_sticky(o,r,i)&&(r.hasClass("fixed")?(r.removeClass("fixed"),t=r.offset().top,e.S(n.body).hasClass("f-topbar-fixed")&&(t-=o.data("height")),o.data("stickyoffset",t),r.addClass("fixed")):(t=r.offset().top,o.data("stickyoffset",t)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(t){var n=this,o=t.data(this.attr_name(!0)+"-init"),i=n.S("section, .top-bar-section",t);i.detach(),n.S(".has-dropdown>a",i).each(function(){var t,i=n.S(this),r=i.siblings(".dropdown"),a=i.attr("href");r.find(".title.back").length||(t=e(1==o.mobile_show_parent_link&&a?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small"><a class="parent-link js-generated" href="'+a+'">'+i.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),1==o.custom_back_text?e("h5>a",t).html(o.back_text):e("h5>a",t).html("&laquo; "+i.html()),r.prepend(t))}),i.appendTo(t),this.sticky(),this.assembled(t)},assembled:function(t){t.data(this.attr_name(!0),e.extend({},t.data(this.attr_name(!0)),{assembled:!0}))},height:function(t){var n=0,o=this;return e("> li",t).each(function(){n+=o.S(this).outerHeight(!0)}),n},sticky:function(){var e=this;this.S(t).on("scroll",function(){e.update_sticky_positioning()})},update_sticky_positioning:function(){var e="."+this.settings.sticky_class,n=this.S(t),o=this;if(o.settings.sticky_topbar&&o.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var i=this.settings.sticky_topbar.data("stickyoffset");o.S(e).hasClass("expanded")||(n.scrollTop()>i?o.S(e).hasClass("fixed")||(o.S(e).addClass("fixed"),o.S("body").addClass("f-topbar-fixed")):n.scrollTop()<=i&&o.S(e).hasClass("fixed")&&(o.S(e).removeClass("fixed"),o.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(t).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document);