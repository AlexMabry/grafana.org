define(["./core","./var/document","./var/rnothtmlwhite","./ajax/var/location","./ajax/var/nonce","./ajax/var/rquery","./core/init","./ajax/parseXML","./event/trigger","./deferred","./serialize"],function(t,e,n,i,r,o){"use strict";function s(e){return function(i,r){"string"!=typeof i&&(r=i,i="*");var o,s=0,a=i.toLowerCase().match(n)||[];if(t.isFunction(r))for(;o=a[s++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(r)):(e[o]=e[o]||[]).push(r)}}function a(e,n,i,r){function o(c){var u;return s[c]=!0,t.each(e[c]||[],function(t,e){var c=e(n,i,r);return"string"!=typeof c||a||s[c]?a?!(u=c):void 0:(n.dataTypes.unshift(c),o(c),!1)}),u}var s={},a=e===b;return o(n.dataTypes[0])||!s["*"]&&o("*")}function c(e,n){var i,r,o=t.ajaxSettings.flatOptions||{};for(i in n)void 0!==n[i]&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&t.extend(!0,e,r),e}function u(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function l(t,e,n,i){var r,o,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=u[c+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}var d=/%20/g,f=/#.*$/,h=/([?&])_=[^&]*/,p=/^(.*?):[ \t]*([^\r\n]*)$/gm,g=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,m=/^(?:GET|HEAD)$/,v=/^\/\//,y={},b={},x="*/".concat("*"),_=e.createElement("a");return _.href=i.href,t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:i.href,type:"GET",isLocal:g.test(i.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":x,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,n){return n?c(c(e,t.ajaxSettings),n):c(t.ajaxSettings,e)},ajaxPrefilter:s(y),ajaxTransport:s(b),ajax:function(s,c){function g(e,n,i,r){var o,s,a,c,d,f=n;j||(j=!0,S&&window.clearTimeout(S),w=void 0,k=r||"",R.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(c=u(N,R,i)),c=l(N,c,R,o),o?(N.ifModified&&(d=R.getResponseHeader("Last-Modified"),d&&(t.lastModified[C]=d),d=R.getResponseHeader("etag"),d&&(t.etag[C]=d)),204===e||"HEAD"===N.type?f="nocontent":304===e?f="notmodified":(f=c.state,s=c.data,a=c.error,o=!a)):(a=f,(e||!f)&&(f="error",0>e&&(e=0))),R.status=e,R.statusText=(n||f)+"",o?M.resolveWith(q,[s,f,R]):M.rejectWith(q,[R,f,a]),R.statusCode(O),O=void 0,F&&L.trigger(o?"ajaxSuccess":"ajaxError",[R,N,o?s:a]),$.fireWith(q,[R,f]),F&&(L.trigger("ajaxComplete",[R,N]),--t.active||t.event.trigger("ajaxStop")))}"object"==typeof s&&(c=s,s=void 0),c=c||{};var w,C,k,T,S,E,j,F,A,D,N=t.ajaxSetup({},c),q=N.context||N,L=N.context&&(q.nodeType||q.jquery)?t(q):t.event,M=t.Deferred(),$=t.Callbacks("once memory"),O=N.statusCode||{},H={},P={},I="canceled",R={readyState:0,getResponseHeader:function(t){var e;if(j){if(!T)for(T={};e=p.exec(k);)T[e[1].toLowerCase()]=e[2];e=T[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return j?k:null},setRequestHeader:function(t,e){return null==j&&(t=P[t.toLowerCase()]=P[t.toLowerCase()]||t,H[t]=e),this},overrideMimeType:function(t){return null==j&&(N.mimeType=t),this},statusCode:function(t){var e;if(t)if(j)R.always(t[R.status]);else for(e in t)O[e]=[O[e],t[e]];return this},abort:function(t){var e=t||I;return w&&w.abort(e),g(0,e),this}};if(M.promise(R),N.url=((s||N.url||i.href)+"").replace(v,i.protocol+"//"),N.type=c.method||c.type||N.method||N.type,N.dataTypes=(N.dataType||"*").toLowerCase().match(n)||[""],null==N.crossDomain){E=e.createElement("a");try{E.href=N.url,E.href=E.href,N.crossDomain=_.protocol+"//"+_.host!=E.protocol+"//"+E.host}catch(z){N.crossDomain=!0}}if(N.data&&N.processData&&"string"!=typeof N.data&&(N.data=t.param(N.data,N.traditional)),a(y,N,c,R),j)return R;F=t.event&&N.global,F&&0===t.active++&&t.event.trigger("ajaxStart"),N.type=N.type.toUpperCase(),N.hasContent=!m.test(N.type),C=N.url.replace(f,""),N.hasContent?N.data&&N.processData&&0===(N.contentType||"").indexOf("application/x-www-form-urlencoded")&&(N.data=N.data.replace(d,"+")):(D=N.url.slice(C.length),N.data&&(C+=(o.test(C)?"&":"?")+N.data,delete N.data),N.cache===!1&&(C=C.replace(h,"$1"),D=(o.test(C)?"&":"?")+"_="+r++ +D),N.url=C+D),N.ifModified&&(t.lastModified[C]&&R.setRequestHeader("If-Modified-Since",t.lastModified[C]),t.etag[C]&&R.setRequestHeader("If-None-Match",t.etag[C])),(N.data&&N.hasContent&&N.contentType!==!1||c.contentType)&&R.setRequestHeader("Content-Type",N.contentType),R.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+("*"!==N.dataTypes[0]?", "+x+"; q=0.01":""):N.accepts["*"]);for(A in N.headers)R.setRequestHeader(A,N.headers[A]);if(N.beforeSend&&(N.beforeSend.call(q,R,N)===!1||j))return R.abort();if(I="abort",$.add(N.complete),R.done(N.success),R.fail(N.error),w=a(b,N,c,R)){if(R.readyState=1,F&&L.trigger("ajaxSend",[R,N]),j)return R;N.async&&N.timeout>0&&(S=window.setTimeout(function(){R.abort("timeout")},N.timeout));try{j=!1,w.send(H,g)}catch(z){if(j)throw z;g(-1,z)}}else g(-1,"No Transport");return R},getJSON:function(e,n,i){return t.get(e,n,i,"json")},getScript:function(e,n){return t.get(e,void 0,n,"script")}}),t.each(["get","post"],function(e,n){t[n]=function(e,i,r,o){return t.isFunction(i)&&(o=o||r,r=i,i=void 0),t.ajax(t.extend({url:e,type:n,dataType:o,data:i,success:r},t.isPlainObject(e)&&e))}}),t});