define(["../core","./var/rtagName","./var/rscriptType","./wrapMap","./getAll","./setGlobalEval"],function(e,t,n,r,i,o){function a(a,u,c,l,f){for(var d,p,h,m,g,A,v=u.createDocumentFragment(),y=[],b=0,w=a.length;w>b;b++)if(d=a[b],d||0===d)if("object"===e.type(d))e.merge(y,d.nodeType?[d]:d);else if(s.test(d)){for(p=p||v.appendChild(u.createElement("div")),h=(t.exec(d)||["",""])[1].toLowerCase(),m=r[h]||r._default,p.innerHTML=m[1]+e.htmlPrefilter(d)+m[2],A=m[0];A--;)p=p.lastChild;e.merge(y,p.childNodes),p=v.firstChild,p.textContent=""}else y.push(u.createTextNode(d));for(v.textContent="",b=0;d=y[b++];)if(l&&e.inArray(d,l)>-1)f&&f.push(d);else if(g=e.contains(d.ownerDocument,d),p=i(v.appendChild(d),"script"),g&&o(p),c)for(A=0;d=p[A++];)n.test(d.type||"")&&c.push(d);return v}var s=/<|&#?\w+;/;return a});