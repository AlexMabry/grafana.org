define(["../core","./var/rtagName","./var/rscriptType","./wrapMap","./getAll","./setGlobalEval"],function(e,t,n,r,i,o){function a(a,c,u,l,d){for(var f,p,A,h,m,g,v=c.createDocumentFragment(),y=[],b=0,w=a.length;w>b;b++)if(f=a[b],f||0===f)if("object"===e.type(f))e.merge(y,f.nodeType?[f]:f);else if(s.test(f)){for(p=p||v.appendChild(c.createElement("div")),A=(t.exec(f)||["",""])[1].toLowerCase(),h=r[A]||r._default,p.innerHTML=h[1]+e.htmlPrefilter(f)+h[2],g=h[0];g--;)p=p.lastChild;e.merge(y,p.childNodes),p=v.firstChild,p.textContent=""}else y.push(c.createTextNode(f));for(v.textContent="",b=0;f=y[b++];)if(l&&e.inArray(f,l)>-1)d&&d.push(f);else if(m=e.contains(f.ownerDocument,f),p=i(v.appendChild(f),"script"),m&&o(p),u)for(g=0;f=p[g++];)n.test(f.type||"")&&u.push(f);return v}var s=/<|&#?\w+;/;return a});