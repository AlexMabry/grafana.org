define(["./core","./var/document","./var/rcssNum","./var/rnothtmlwhite","./css/var/cssExpand","./css/var/isHiddenWithinTree","./css/var/swap","./css/adjustCSS","./data/var/dataPriv","./css/showHide","./core/init","./queue","./deferred","./traversing","./manipulation","./css","./effects/Tween"],function(t,e,n,i,r,o,s,a,l,c){"use strict";function u(){y&&(window.requestAnimationFrame(u),t.fx.tick())}function d(){return window.setTimeout(function(){v=void 0}),v=t.now()}function f(t,e){var n,i=0,o={height:t};for(e=e?1:0;4>i;i+=2-e)n=r[i],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function h(t,e,n){for(var i,r=(m.tweeners[e]||[]).concat(m.tweeners["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function p(e,n,i){var r,s,a,u,d,f,p,g,m="width"in n||"height"in n,v=this,y={},_=e.style,x=e.nodeType&&o(e),w=l.get(e,"fxshow");i.queue||(u=t._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,v.always(function(){v.always(function(){u.unqueued--,t.queue(e,"fx").length||u.empty.fire()})}));for(r in n)if(s=n[r],b.test(s)){if(delete n[r],a=a||"toggle"===s,s===(x?"hide":"show")){if("show"!==s||!w||void 0===w[r])continue;x=!0}y[r]=w&&w[r]||t.style(e,r)}if(f=!t.isEmptyObject(n),f||!t.isEmptyObject(y)){m&&1===e.nodeType&&(i.overflow=[_.overflow,_.overflowX,_.overflowY],p=w&&w.display,null==p&&(p=l.get(e,"display")),g=t.css(e,"display"),"none"===g&&(p?g=p:(c([e],!0),p=e.style.display||p,g=t.css(e,"display"),c([e]))),("inline"===g||"inline-block"===g&&null!=p)&&"none"===t.css(e,"float")&&(f||(v.done(function(){_.display=p}),null==p&&(g=_.display,p="none"===g?"":g)),_.display="inline-block")),i.overflow&&(_.overflow="hidden",v.always(function(){_.overflow=i.overflow[0],_.overflowX=i.overflow[1],_.overflowY=i.overflow[2]})),f=!1;for(r in y)f||(w?"hidden"in w&&(x=w.hidden):w=l.access(e,"fxshow",{display:p}),a&&(w.hidden=!x),x&&c([e],!0),v.done(function(){x||c([e]),l.remove(e,"fxshow");for(r in y)t.style(e,r,y[r])})),f=h(x?w[r]:0,r,v),r in w||(w[r]=f.start,x&&(f.end=f.start,f.start=0))}}function g(e,n){var i,r,o,s,a;for(i in e)if(r=t.camelCase(i),o=n[r],s=e[i],t.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==r&&(e[r]=s,delete e[i]),a=t.cssHooks[r],a&&"expand"in a){s=a.expand(s),delete e[r];for(i in s)i in e||(e[i]=s[i],n[i]=o)}else n[r]=o}function m(e,n,i){var r,o,s=0,a=m.prefilters.length,l=t.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=v||d(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,s=0,a=u.tweens.length;a>s;s++)u.tweens[s].run(r);return l.notifyWith(e,[u,r,n]),1>r&&a?n:(l.resolveWith(e,[u]),!1)},u=l.promise({elem:e,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},i),originalProperties:n,originalOptions:i,startTime:v||d(),duration:i.duration,tweens:[],createTween:function(n,i){var r=t.Tween(e,u.opts,n,i,u.opts.specialEasing[n]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)u.tweens[n].run(1);return t?(l.notifyWith(e,[u,1,0]),l.resolveWith(e,[u,t])):l.rejectWith(e,[u,t]),this}}),f=u.props;for(g(f,u.opts.specialEasing);a>s;s++)if(r=m.prefilters[s].call(u,e,f,u.opts))return t.isFunction(r.stop)&&(t._queueHooks(u.elem,u.opts.queue).stop=t.proxy(r.stop,r)),r;return t.map(f,h,u),t.isFunction(u.opts.start)&&u.opts.start.call(e,u),t.fx.timer(t.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}var v,y,b=/^(?:toggle|show|hide)$/,_=/queueHooks$/;return t.Animation=t.extend(m,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return a(i.elem,t,n.exec(e),i),i}]},tweener:function(e,n){t.isFunction(e)?(n=e,e=["*"]):e=e.match(i);for(var r,o=0,s=e.length;s>o;o++)r=e[o],m.tweeners[r]=m.tweeners[r]||[],m.tweeners[r].unshift(n)},prefilters:[p],prefilter:function(t,e){e?m.prefilters.unshift(t):m.prefilters.push(t)}}),t.speed=function(n,i,r){var o=n&&"object"==typeof n?t.extend({},n):{complete:r||!r&&i||t.isFunction(n)&&n,duration:n,easing:r&&i||i&&!t.isFunction(i)&&i};return t.fx.off||e.hidden?o.duration=0:"number"!=typeof o.duration&&(o.duration in t.fx.speeds?o.duration=t.fx.speeds[o.duration]:o.duration=t.fx.speeds._default),(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){t.isFunction(o.old)&&o.old.call(this),o.queue&&t.dequeue(this,o.queue)},o},t.fn.extend({fadeTo:function(t,e,n,i){return this.filter(o).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,n,i,r){var o=t.isEmptyObject(e),s=t.speed(n,i,r),a=function(){var n=m(this,t.extend({},e),s);(o||l.get(this,"finish"))&&n.stop(!0)};return a.finish=a,o||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var r=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof e&&(i=n,n=e,e=void 0),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var n=!0,o=null!=e&&e+"queueHooks",s=t.timers,a=l.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&_.test(o)&&r(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(i),n=!1,s.splice(o,1));(n||!i)&&t.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var n,i=l.get(this),r=i[e+"queue"],o=i[e+"queueHooks"],s=t.timers,a=r?r.length:0;for(i.finish=!0,t.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),n=s.length;n--;)s[n].elem===this&&s[n].queue===e&&(s[n].anim.stop(!0),s.splice(n,1));for(n=0;a>n;n++)r[n]&&r[n].finish&&r[n].finish.call(this);delete i.finish})}}),t.each(["toggle","show","hide"],function(e,n){var i=t.fn[n];t.fn[n]=function(t,e,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(f(n,!0),t,e,r)}}),t.each({slideDown:f("show"),slideUp:f("hide"),slideToggle:f("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){t.fn[e]=function(t,e,i){return this.animate(n,t,e,i)}}),t.timers=[],t.fx.tick=function(){var e,n=0,i=t.timers;for(v=t.now();n<i.length;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||t.fx.stop(),v=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){y||(y=window.requestAnimationFrame?window.requestAnimationFrame(u):window.setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){window.cancelAnimationFrame?window.cancelAnimationFrame(y):window.clearInterval(y),y=null},t.fx.speeds={slow:600,fast:200,_default:400},t});