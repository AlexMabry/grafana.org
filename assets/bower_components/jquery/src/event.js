define(["./core","./var/document","./var/documentElement","./var/rnothtmlwhite","./var/slice","./data/var/dataPriv","./core/init","./selector"],function(t,e,n,i,r,o){"use strict";function s(){return!0}function a(){return!1}function c(){try{return e.activeElement}catch(t){}}function u(e,n,i,r,o,s){var c,l;if("object"==typeof n){"string"!=typeof i&&(r=r||i,i=void 0);for(l in n)u(e,l,i,r,n[l],s);return e}if(null==r&&null==o?(o=i,r=i=void 0):null==o&&("string"==typeof i?(o=r,r=void 0):(o=r,r=i,i=void 0)),o===!1)o=a;else if(!o)return e;return 1===s&&(c=o,o=function(e){return t().off(e),c.apply(this,arguments)},o.guid=c.guid||(c.guid=t.guid++)),e.each(function(){t.event.add(this,n,o,r,i)})}var l=/^key/,d=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,f=/^([^.]*)(?:\.(.+)|)/;return t.event={global:{},add:function(e,r,s,a,c){var u,l,d,h,p,g,m,v,y,b,_,x=o.get(e);if(x)for(s.handler&&(u=s,s=u.handler,c=u.selector),c&&t.find.matchesSelector(n,c),s.guid||(s.guid=t.guid++),(h=x.events)||(h=x.events={}),(l=x.handle)||(l=x.handle=function(n){return"undefined"!=typeof t&&t.event.triggered!==n.type?t.event.dispatch.apply(e,arguments):void 0}),r=(r||"").match(i)||[""],p=r.length;p--;)d=f.exec(r[p])||[],y=_=d[1],b=(d[2]||"").split(".").sort(),y&&(m=t.event.special[y]||{},y=(c?m.delegateType:m.bindType)||y,m=t.event.special[y]||{},g=t.extend({type:y,origType:_,data:a,handler:s,guid:s.guid,selector:c,needsContext:c&&t.expr.match.needsContext.test(c),namespace:b.join(".")},u),(v=h[y])||(v=h[y]=[],v.delegateCount=0,m.setup&&m.setup.call(e,a,b,l)!==!1||e.addEventListener&&e.addEventListener(y,l)),m.add&&(m.add.call(e,g),g.handler.guid||(g.handler.guid=s.guid)),c?v.splice(v.delegateCount++,0,g):v.push(g),t.event.global[y]=!0)},remove:function(e,n,r,s,a){var c,u,l,d,h,p,g,m,v,y,b,_=o.hasData(e)&&o.get(e);if(_&&(d=_.events)){for(n=(n||"").match(i)||[""],h=n.length;h--;)if(l=f.exec(n[h])||[],v=b=l[1],y=(l[2]||"").split(".").sort(),v){for(g=t.event.special[v]||{},v=(s?g.delegateType:g.bindType)||v,m=d[v]||[],l=l[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=c=m.length;c--;)p=m[c],!a&&b!==p.origType||r&&r.guid!==p.guid||l&&!l.test(p.namespace)||s&&s!==p.selector&&("**"!==s||!p.selector)||(m.splice(c,1),p.selector&&m.delegateCount--,g.remove&&g.remove.call(e,p));u&&!m.length&&(g.teardown&&g.teardown.call(e,y,_.handle)!==!1||t.removeEvent(e,v,_.handle),delete d[v])}else for(v in d)t.event.remove(e,v+n[h],r,s,!0);t.isEmptyObject(d)&&o.remove(e,"handle events")}},dispatch:function(e){var n,i,r,s,a,c,u=t.event.fix(e),l=new Array(arguments.length),d=(o.get(this,"events")||{})[u.type]||[],f=t.event.special[u.type]||{};for(l[0]=u,n=1;n<arguments.length;n++)l[n]=arguments[n];if(u.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,u)!==!1){for(c=t.event.handlers.call(this,u,d),n=0;(s=c[n++])&&!u.isPropagationStopped();)for(u.currentTarget=s.elem,i=0;(a=s.handlers[i++])&&!u.isImmediatePropagationStopped();)(!u.rnamespace||u.rnamespace.test(a.namespace))&&(u.handleObj=a,u.data=a.data,r=((t.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,l),void 0!==r&&(u.result=r)===!1&&(u.preventDefault(),u.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,u),u.result}},handlers:function(e,n){var i,r,o,s,a,c=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(s=[],a={},i=0;u>i;i++)r=n[i],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?t(o,this).index(l)>-1:t.find(o,this,null,[l]).length),a[o]&&s.push(r);s.length&&c.push({elem:l,handlers:s})}return l=this,u<n.length&&c.push({elem:l,handlers:n.slice(u)}),c},addProp:function(e,n){Object.defineProperty(t.Event.prototype,e,{enumerable:!0,configurable:!0,get:t.isFunction(n)?function(){return this.originalEvent?n(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[t.expando]?e:new t.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&t.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return t.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},t.Event=function(e,n){return this instanceof t.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?s:a,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,n&&t.extend(this,n),this.timeStamp=e&&e.timeStamp||t.now(),void(this[t.expando]=!0)):new t.Event(e,n)},t.Event.prototype={constructor:t.Event,isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=s,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&l.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&d.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},t.event.addProp),t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,n){t.event.special[e]={delegateType:n,bindType:n,handle:function(e){var i,r=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==r&&!t.contains(r,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=n),i}}}),t.fn.extend({on:function(t,e,n,i){return u(this,t,e,n,i)},one:function(t,e,n,i){return u(this,t,e,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,t(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=void 0),i===!1&&(i=a),this.each(function(){t.event.remove(this,e,i,n)})}}),t});