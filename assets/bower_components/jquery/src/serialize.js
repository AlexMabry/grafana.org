define(["./core","./manipulation/var/rcheckableType","./core/init","./traversing","./attributes/prop"],function(t,e){function n(e,r,o,u){var a;if(t.isArray(r))t.each(r,function(t,r){o||i.test(e)?u(e,r):n(e+"["+("object"==typeof r?t:"")+"]",r,o,u)});else if(o||"object"!==t.type(r))u(e,r);else for(a in r)n(e+"["+a+"]",r[a],o,u)}var r=/%20/g,i=/\[\]$/,o=/\r?\n/g,u=/^(?:submit|button|image|reset|file)$/i,a=/^(?:input|select|textarea|keygen)/i;return t.param=function(e,i){var o,u=[],a=function(e,n){n=t.isFunction(n)?n():null==n?"":n,u[u.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(void 0===i&&(i=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(e)||e.jquery&&!t.isPlainObject(e))t.each(e,function(){a(this.name,this.value)});else for(o in e)n(o,e[o],i,a);return u.join("&").replace(r,"+")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=t.prop(this,"elements");return e?t.makeArray(e):this}).filter(function(){var n=this.type;return this.name&&!t(this).is(":disabled")&&a.test(this.nodeName)&&!u.test(n)&&(this.checked||!e.test(n))}).map(function(e,n){var r=t(this).val();return null==r?null:t.isArray(r)?t.map(r,function(t){return{name:n.name,value:t.replace(o,"\r\n")}}):{name:n.name,value:r.replace(o,"\r\n")}}).get()}}),t});