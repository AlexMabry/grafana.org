define(["./core","./manipulation/var/rcheckableType","./core/init","./traversing","./attributes/prop"],function(t,e){"use strict";function n(e,r,o,s){var a;if(t.isArray(r))t.each(r,function(t,r){o||i.test(e)?s(e,r):n(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,o,s)});else if(o||"object"!==t.type(r))s(e,r);else for(a in r)n(e+"["+a+"]",r[a],o,s)}var i=/\[\]$/,r=/\r?\n/g,o=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;return t.param=function(e,i){var r,o=[],s=function(e,n){var i=t.isFunction(n)?n():n;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(t.isArray(e)||e.jquery&&!t.isPlainObject(e))t.each(e,function(){s(this.name,this.value)});else for(r in e)n(r,e[r],i,s);return o.join("&")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=t.prop(this,"elements");return e?t.makeArray(e):this}).filter(function(){var n=this.type;return this.name&&!t(this).is(":disabled")&&s.test(this.nodeName)&&!o.test(n)&&(this.checked||!e.test(n))}).map(function(e,n){var i=t(this).val();return null==i?null:t.isArray(i)?t.map(i,function(t){return{name:n.name,value:t.replace(r,"\r\n")}}):{name:n.name,value:i.replace(r,"\r\n")}}).get()}}),t});