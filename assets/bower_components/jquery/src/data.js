define(["./core","./core/access","./data/var/dataPriv","./data/var/dataUser"],function(t,e,n,i){function r(e,n,r){var a;if(void 0===r&&1===e.nodeType)if(a="data-"+n.replace(s,"-$&").toLowerCase(),r=e.getAttribute(a),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:o.test(r)?t.parseJSON(r):r}catch(l){}i.set(e,n,r)}else r=void 0;return r}var o=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,s=/[A-Z]/g;return t.extend({hasData:function(t){return i.hasData(t)||n.hasData(t)},data:function(t,e,n){return i.access(t,e,n)},removeData:function(t,e){i.remove(t,e)},_data:function(t,e,i){return n.access(t,e,i)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(o,a){var l,u,c,d=this[0],f=d&&d.attributes;if(void 0===o){if(this.length&&(c=i.get(d),1===d.nodeType&&!n.get(d,"hasDataAttrs"))){for(l=f.length;l--;)f[l]&&(u=f[l].name,0===u.indexOf("data-")&&(u=t.camelCase(u.slice(5)),r(d,u,c[u])));n.set(d,"hasDataAttrs",!0)}return c}return"object"==typeof o?this.each(function(){i.set(this,o)}):e(this,function(e){var n,a;if(d&&void 0===e){if(n=i.get(d,o)||i.get(d,o.replace(s,"-$&").toLowerCase()),void 0!==n)return n;if(a=t.camelCase(o),n=i.get(d,a),void 0!==n)return n;if(n=r(d,a,void 0),void 0!==n)return n}else a=t.camelCase(o),this.each(function(){var t=i.get(this,a);i.set(this,a,e),o.indexOf("-")>-1&&void 0!==t&&i.set(this,o,e)})},null,a,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){i.remove(this,t)})}}),t});