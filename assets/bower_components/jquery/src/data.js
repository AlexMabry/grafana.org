define(["./core","./core/access","./data/var/dataPriv","./data/var/dataUser"],function(t,e,n,i){"use strict";function r(t){return"true"===t?!0:"false"===t?!1:"null"===t?null:t===+t+""?+t:s.test(t)?JSON.parse(t):t}function o(t,e,n){var o;if(void 0===n&&1===t.nodeType)if(o="data-"+e.replace(a,"-$&").toLowerCase(),n=t.getAttribute(o),"string"==typeof n){try{n=r(n)}catch(s){}i.set(t,e,n)}else n=void 0;return n}var s=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,a=/[A-Z]/g;return t.extend({hasData:function(t){return i.hasData(t)||n.hasData(t)},data:function(t,e,n){return i.access(t,e,n)},removeData:function(t,e){i.remove(t,e)},_data:function(t,e,i){return n.access(t,e,i)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(r,s){var a,c,u,l=this[0],d=l&&l.attributes;if(void 0===r){if(this.length&&(u=i.get(l),1===l.nodeType&&!n.get(l,"hasDataAttrs"))){for(a=d.length;a--;)d[a]&&(c=d[a].name,0===c.indexOf("data-")&&(c=t.camelCase(c.slice(5)),o(l,c,u[c])));n.set(l,"hasDataAttrs",!0)}return u}return"object"==typeof r?this.each(function(){i.set(this,r)}):e(this,function(t){var e;if(l&&void 0===t){if(e=i.get(l,r),void 0!==e)return e;if(e=o(l,r),void 0!==e)return e}else this.each(function(){i.set(this,r,t)})},null,s,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){i.remove(this,t)})}}),t});