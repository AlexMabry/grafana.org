define(["../core","../var/document"],function(t,e){"use strict";function n(){e.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),t.ready()}var i=[],r=function(t){i.push(t)},o=function(n){window.setTimeout(function(){n.call(e,t)})};t.fn.ready=function(t){return r(t),this},t.extend({isReady:!1,readyWait:1,holdReady:function(e){e?t.readyWait++:t.ready(!0)},ready:function(e){(e===!0?--t.readyWait:t.isReady)||(t.isReady=!0,e!==!0&&--t.readyWait>0||(r=function(e){for(i.push(e);i.length;)e=i.shift(),t.isFunction(e)&&o(e)})())}}),t.ready.then=t.fn.ready,"complete"===e.readyState||"loading"!==e.readyState&&!e.documentElement.doScroll?window.setTimeout(t.ready):(e.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n))});