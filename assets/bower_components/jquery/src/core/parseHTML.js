define(["../core","../var/document","./var/rsingleTag","../manipulation/buildFragment","./support"],function(t,e,n,i,r){"use strict";return t.parseHTML=function(o,s,a){if("string"!=typeof o)return[];"boolean"==typeof s&&(a=s,s=!1);var c,l,u;return s||(r.createHTMLDocument?(s=e.implementation.createHTMLDocument(""),c=s.createElement("base"),c.href=e.location.href,s.head.appendChild(c)):s=e),l=n.exec(o),u=!a&&[],l?[s.createElement(l[1])]:(l=i([o],s,u),u&&u.length&&t(u).remove(),t.merge([],l.childNodes))},t.parseHTML});