define(["./core","./var/document","./var/documentElement","./var/hasOwn","./var/indexOf"],function(t,e,n,i,r){function o(n,i){if(n===i)return a=!0,0;var o=!n.compareDocumentPosition-!i.compareDocumentPosition;return o?o:(o=(n.ownerDocument||n)===(i.ownerDocument||i)?n.compareDocumentPosition(i):1,1&o?n===e||n.ownerDocument===e&&t.contains(e,n)?-1:i===e||i.ownerDocument===e&&t.contains(e,i)?1:l?r.call(l,n)-r.call(l,i):0:4&o?-1:1)}function s(t){var e,n=[],i=0,r=0;if(a=!1,l=!u&&t.slice(0),t.sort(o),a){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return l=null,t}var a,l,u=t.expando.split("").sort(o).join("")===t.expando,c=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector;t.extend({find:function(n,i,r,o){var s,a,l=0;if(r=r||[],i=i||e,!n||"string"!=typeof n)return r;if(1!==(a=i.nodeType)&&9!==a)return[];if(o)for(;s=o[l++];)t.find.matchesSelector(s,n)&&r.push(s);else t.merge(r,i.querySelectorAll(n));return r},uniqueSort:s,unique:s,text:function(e){var n,i="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o)return e.textContent;if(3===o||4===o)return e.nodeValue}else for(;n=e[r++];)i+=t.text(n);return i},contains:function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!n.contains(i))},isXMLDoc:function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},expr:{attrHandle:{},match:{bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:/^[\x20\t\r\n\f]*[>+~]/}}}),t.extend(t.find,{matches:function(e,n){return t.find(e,null,null,n)},matchesSelector:function(t,e){return c.call(t,e)},attr:function(e,n){var r=t.expr.attrHandle[n.toLowerCase()],o=r&&i.call(t.expr.attrHandle,n.toLowerCase())?r(e,n,t.isXMLDoc(e)):void 0;return void 0!==o?o:e.getAttribute(n)}})});