define(["./core","./var/rnotwhite"],function(e,t){function n(n){var r={};return e.each(n.match(t)||[],function(e,t){r[t]=!0}),r}return e.Callbacks=function(t){t="string"==typeof t?n(t):e.extend({},t);var r,i,o,a,s=[],u=[],c=-1,l=function(){for(a=t.once,o=r=!0;u.length;c=-1)for(i=u.shift();++c<s.length;)s[c].apply(i[0],i[1])===!1&&t.stopOnFalse&&(c=s.length,i=!1);t.memory||(i=!1),r=!1,a&&(s=i?[]:"")},f={add:function(){return s&&(i&&!r&&(c=s.length-1,u.push(i)),function n(r){e.each(r,function(r,i){e.isFunction(i)?t.unique&&f.has(i)||s.push(i):i&&i.length&&"string"!==e.type(i)&&n(i)})}(arguments),i&&!r&&l()),this},remove:function(){return e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,s,r))>-1;)s.splice(r,1),c>=r&&c--}),this},has:function(t){return t?e.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=i="",this},disabled:function(){return!s},lock:function(){return a=u=[],i||(s=i=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=t||[],t=[e,t.slice?t.slice():t],u.push(t),r||l()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},e});